<html>
<head>
<title> Karaoke </title>

<script src="lyrics.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>  
<script src="http://cdn-files.deezer.com/js/min/dz.js"></script>

</head>

<style>
<body>
<h1> Karaoke </h1>

<script>
console.log("START Karaoke");
//lyrics = getTrackLyrics("Help","Beatles");
//console.log("current track lyrics", lyrics);

DZ.init({
	appId  : '116247',
	channelUrl : 'http://kadrik.github.io/deezerkaraoke/'
});
DZ.ready(function() {
	DZ.Event.subscribe('current_track', function(track, evt_name){
		console.log("current track object", track);
		title = track.track.title;
		artist = track.track.artist.name;
		$("#currentTrack").html(title +" <i>By</i> "+ artist);
		lyrics = getTrackLyrics(title,artist, function() {
			console.log("current track lyrics", lyrics);
			$("#lyrics").html(getWholeLyrics(lyrics));						
		});
	});
});


function play(trackId) {
	DZ.player.playTracks([trackId], 0, function(response){
		console.log("track list", response.tracks);
	});	
}

console.log("END Karaoke");

</script>


<div id="currentTrack">
</div>

<div id="lyrics">
</div>

<div id="trackLinks">
	<ul>
	<li><a href="#" onClick="play(4601933)"> Bad romance <i>by</i> Lady Gaga</a>
	<li><a href="#" onClick="play(66609426)"> Get Lucky <i>by</i> Daft Punk </a>
	</ul>
</div>

<div id="debug">
</div>

</body>
</html>
